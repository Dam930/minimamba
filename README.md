# MINIMAMBA

**MINIMAMBA** is a reimplementation of the concepts presented in the [MAMBA paper](https://arxiv.org/abs/2312.00752).  
This repository serves as an educational project, aiming to understand and reimplement the ideas described in the paper to deepen comprehension of its methods and techniques.


<!-- [[_TOC_]] -->
- [MINIMAMBA](#minimamba)
  - [Documentation](#documentation)
  - [:inbox\_tray: Installation](#inbox_tray-installation)
    - [Initialization](#initialization)
    - [Install project and dependencies](#install-project-and-dependencies)
  - [:card\_index\_dividers: Structure](#card_index_dividers-structure)
  - [:gear: Utils](#gear-utils)


## Documentation
**Download the dataset:** 

  ```shell
cd data/shakespeare_char
python prepare.py
  ```
  
**Start training:** 
  ```shell
python -m minimamba train -c configs/commands/train.json
  ```

**Generate some examples:** 
change the config configs/commands/generate.json with the path of the last model

run the following script
  ```shell
python -m minimamba generate -c configs/commands/generate.json
  ```

## :inbox_tray: Installation
<details>
<summary>

### Initialization

</summary>

**N.B. This section is intended for the person who creates the project and must be followed only once during project setup**

Execute the following make command to start the initialization procedure:
  ```shell
  make init
  ```

The procedure will ask you to enter the project info (name, author, etc.) and will guide you through the setup of a conda environment and git repository.

The procedure assumes that you have Anaconda installed on the system and a default Python interpreter available.

</details>

<details>
<summary>

### Install project and dependencies

</summary>

Create a new Python 3.12 environment:

```shell
conda create --name minimamba python=3.12
```

Activate the conda environment just created:

```shell
conda activate env_name
```

Install dependencies on the environment:

```shell
make install
```

or the following command if you want to install dependencies for developing mode:
```shell
make dev
```

</details>

## :card_index_dividers: Structure

<details>
<summary>

The project contains:

</summary>
<br/>

:file_folder: `minimamba` : that contain the code of the project. We encourage to split the project in
different subfolders, one for each project module.

:file_folder: `tests` : in this folder will be stored the python test files for pytest. A sample script is contained.

:file_folder: `utils` : it contains some scripts for support operations, you can add other scripts if needed.

:file_folder: `docs` : it contains the documentation in html folder, the documentation is autogenerated, do not
modify the folder content. (see utils chapter)

:hammer: `.gitlab-ci.yml` for the gitlab definition of the CI pipeline.

:hammer: `.pre-commit-config.yaml` for the definition of the hooks caught by the pre-commit.

:card_index: `LICENSE`

:page_facing_up: `Makefile` (see [Utils](#gear-utils) for details)

:page_facing_up: `requirements.txt`/`requirements_dev.txt` for packages required by the project. You can append the packages needed.

</details>

## :gear: Utils

<details>
<summary>

The project contains a make file with some standard operation that helps you to better
manage the project and the code.


</summary><br/>

Print all the available make commands by typing:

```shell
make help
```

You will get the followings

| Command            | Description                                                      |
|-------------------:|------------------------------------------------------------------|
|     help           |     to print all the possible commands                           |
|     init           |     to create the git local and remote repository                |
|     install        |     to install requirements without development dependencies     |
|     dev            |     to install requirements with development dependencies        |
|     format         |     to format code using ruff                                    |
|     format-check   |     to check code format using ruff                              |
|     lint           |     to check the code style                                      |
|     lint-fix       |     to fix the code style                                        |
|     test           |     to launch the tests                                          |
|     doc            |     to create the project documentation                          |
|     doc            |     to print repository tree structure                           |
|     patch          |     to release a patch                                           |
|     minor          |     to release a minor version                                   |
|     major          |     to release a major version                                   |
|     wheel          |     to create a wheel to distribute this software                |

</details>
